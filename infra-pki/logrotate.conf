# Logrotate configuration for Infra-PKI
# Target: /opt/docker/Infra-Iam-PKI/infra-pki/logs/*/*.log

/opt/docker/Infra-Iam-PKI/infra-pki/logs/*/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    create 0640 1000 1000
    sharedscripts
    postrotate
        # Optional: Signal containers to reopen logs if they don't handle it automatically
        # For standard file logging this might not be needed if the application keeps the fd open 
        # but docker's json-file driver is external. 
        # Since we are mapping logs to file (e.g. Postgres), we might need a signal.
        # For now, we'll keep it simple as requested.
    endscript
}
